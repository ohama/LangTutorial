# Milestone v2.0: 실용성 강화

**Status:** SHIPPED 2026-02-01
**Phases:** 01-03
**Total Plans:** 4

## Overview

코드 문서화, 문자열 타입, 대화형 개발 환경을 FunLang에 추가하여 v1.0 MVP의 실용성을 강화.

## Phases

### Phase 01: Comments (주석)

**Goal**: 코드 문서화를 위한 주석 기능 추가
**Depends on**: v1.0 MVP
**Plans**: 1 plan

Plans:
- [x] 01-01-PLAN.md — Implement comment lexer rules and tests

**Details:**
- 단일행 주석 `//` (C-style)
- 다중행 주석 `(* *)` (ML-style, 중첩 지원)
- 미종료 주석 오류 처리
- Files: Lexer.fsl (comment rules), tests/comments/ (12 fslit tests)
- Tests: 12 fslit + 10 Expecto

**Status:** Completed 2026-01-31

---

### Phase 02: Strings (문자열)

**Goal**: 문자열 데이터 타입 추가
**Depends on**: Phase 01
**Plans**: 1 plan

Plans:
- [x] 02-01-PLAN.md — Add string type with full pipeline support

**Details:**
- 문자열 리터럴 `"hello"`
- 이스케이프 시퀀스: \n, \t, \\, \"
- 문자열 연결 (+) 및 비교 (=, <>)
- 타입 오류 메시지 (혼합 타입 연산)
- Files: Ast.fs, Lexer.fsl, Parser.fsy, Eval.fs, Format.fs
- Tests: 15 fslit + 29 Expecto

**Status:** Completed 2026-01-31

---

### Phase 03: REPL (대화형 셸)

**Goal**: 대화형 read-eval-print 루프 제공
**Depends on**: Phase 02
**Plans**: 2 plans

Plans:
- [x] 03-01-PLAN.md — CLI modernization with Argu
- [x] 03-02-PLAN.md — REPL implementation and tests

**Details:**
- Argu 6.2.5 패키지로 CLI 모던화
- 재귀 루프 기반 REPL 구현
- 환경 지속성 (let 바인딩 유지 - 현재 let-in 방식)
- 오류 복구 (예외 시 REPL 계속)
- #quit 명령 및 Ctrl+D 종료
- no-args 실행 시 REPL 시작
- Files: Cli.fs, Repl.fs, Program.fs (refactored)
- Tests: 7 fslit + 7 Expecto

**Status:** Completed 2026-02-01

---

## Milestone Summary

**Key Decisions:**
- Single-line comments: `//` (C-style) — developer familiarity
- Block comments: `(* *)` (ML-style) — F# consistency, nesting support
- Comments in lexer, not parser — no AST pollution
- Escape sequences in lexer — clean separation of concerns
- Argu for CLI parsing — declarative, replaces 120 LOC
- #quit command — F# Interactive convention
- No-args starts REPL — better UX

**Issues Resolved:**
- fslex escape sequence parsing — heredoc approach for clean file delivery
- fslit error capture — stderr redirection (2>&1) for error tests
- Pattern order in lexer — comments before operators

**Issues Deferred:**
- Statement-level `let` without `in` for REPL persistent bindings
- Multi-line REPL input
- REPL command history (readline)
- Tab completion

**Technical Debt Incurred:**
- parse function duplicated in Program.fs and Repl.fs (acceptable for Phase 3)

---

*Archived: 2026-02-01 as part of v2.0 milestone completion*
*For current project status, see .planning/ROADMAP.md (next milestone)*
